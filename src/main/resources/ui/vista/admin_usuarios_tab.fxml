<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<!-- ADMIN USUARIOS VIEW -->
<SplitPane dividerPositions="0.3"
           xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="ui.controlador.AdminUsuariosControlador">

    <items>

        <!-- ========== LISTA IZQUIERDA: USUARIOS REGISTRADOS ========== -->
        <VBox spacing="10.0">
            <children>
                <!-- Encabezado -->
                <Label styleClass="sidebar-title"
                       text="Usuarios Registrados"/>

                <!-- ListView principal -->
                <ListView fx:id="listaUsuarios"
                          VBox.vgrow="ALWAYS"/>
            </children>
            <padding><Insets top="10.0" right="10.0" bottom="10.0" left="10.0"/></padding>
        </VBox>

        <!-- ========== PANEL DERECHO: FORMULARIO / ACCIONES ========== -->
        <VBox alignment="TOP_CENTER" spacing="15.0">
            <children>

                <!-- Título de sección -->
                <Label styleClass="content-title"
                       text="Detalles del Usuario"/>

                <!-- Formulario deshabilitado por defecto -->
                <GridPane fx:id="formGridUsuario" disable="true"
                          hgap="10.0" vgap="15.0">

                    <!-- CONTENIDO FORMULARIO -->
                    <children>

                        <!-- Usuario -->
                        <Label text="Nombre de Usuario:"
                               GridPane.halignment="RIGHT"/>
                        <TextField fx:id="txtNombreUsuario"
                                   GridPane.columnIndex="1"/>

                        <!-- Password -->
                        <Label text="Contraseña:"
                               GridPane.halignment="RIGHT"
                               GridPane.rowIndex="1"/>
                        <PasswordField fx:id="txtPasswordUsuario"
                                       GridPane.columnIndex="1"
                                       GridPane.rowIndex="1"/>

                        <!-- Confirmación -->
                        <Label text="Confirmar Contraseña:"
                               GridPane.halignment="RIGHT"
                               GridPane.rowIndex="2"/>
                        <PasswordField fx:id="txtConfirmarPassword"
                                       GridPane.columnIndex="1"
                                       GridPane.rowIndex="2"/>

                        <!-- Rol -->
                        <Label text="Rol:"
                               GridPane.halignment="RIGHT"
                               GridPane.rowIndex="3"/>
                        <ComboBox fx:id="comboRolUsuario" prefWidth="300.0"
                                  GridPane.columnIndex="1"
                                  GridPane.rowIndex="3"/>
                    </children>

                    <!-- Columnas / Filas -->
                    <columnConstraints>
                        <ColumnConstraints prefWidth="150.0"/>
                        <ColumnConstraints/>
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints vgrow="SOMETIMES"/>
                        <RowConstraints vgrow="SOMETIMES"/>
                        <RowConstraints vgrow="SOMETIMES"/>
                        <RowConstraints vgrow="SOMETIMES"/>
                    </rowConstraints>
                </GridPane>

                <!-- Botonera Guardar / Eliminar -->
                <HBox fx:id="botonesUsuario" alignment="CENTER_RIGHT"
                      disable="true" spacing="10.0">
                    <children>
                        <Button fx:id="btnGuardarUsuario"
                                onAction="#handleGuardarUsuario"
                                styleClass="confirm-button"
                                text="Guardar Usuario"/>
                        <Button fx:id="btnEliminarUsuario"
                                onAction="#handleEliminarUsuario"
                                styleClass="delete-button"
                                text="Eliminar Usuario"/>
                    </children>
                </HBox>

                <!-- Crear nuevo usuario -->
                <HBox alignment="TOP_LEFT">
                    <children>
                        <Button onAction="#handleNuevoUsuario"
                                styleClass="secondary-button"
                                text="Crear Nuevo Usuario"/>
                    </children>
                    <VBox.margin><Insets top="10.0"/></VBox.margin>
                </HBox>
            </children>

            <padding><Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/></padding>
        </VBox>
    </items>
</SplitPane>
